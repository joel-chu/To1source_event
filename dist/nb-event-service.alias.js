!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(t=t||self).NBEventService=o()}(this,function(){"use strict";var t=new Map,o=new Map,r=function(t){void 0===t&&(t={}),t.logger&&"function"==typeof t.logger&&(this.logger=t.logger),this.result=null},e={$done:{configurable:!0},normalStore:{configurable:!0},lazyStore:{configurable:!0}};return r.prototype.logger=function(){},r.prototype.$on=function(t,o,r){var e=this;void 0===r&&(r=null);var n=this.validate,i=this.takeFromStore,a=this.addToNormalStore,u=this.logger;n(t,o);var f=i(t);if(!1===f)return u("$on",t+" callback is not in lazy store"),a(t,"on",o,r);u("$on",t+" found in lazy store");var l=0;return f.forEach(function(n){var i=n[0],u=n[1];e.run(o,i,r||u),l+=a(t,"on",o,r||u)}),l},r.prototype.$once=function(t,o,r){validate(t,o);var e=this.takeFromStore(t);if(!1===e&&!this.normalStore.has(t))return this.addToNormalStore(t,"once",o,r);var n=e[0],i=e[1];this.run(o,n,r||i)},r.prototype.$trigger=function(t,o,r){var e=this;void 0===o&&(o=[]),void 0===r&&(r=null),this.validateEvt(t);var n=0,i=this.normalStore;return i.has(t)?(i.get(t).forEach(function(a){++n;var u=a[0],f=a[1],l=a[2];if(e.run(u,o,r||f),"once"===l)return i.delete(t),n}),n):(this.addToLazyStore(t,o,r),n)},r.prototype.$call=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return Reflect.apply(this.$trigger,this,t)},r.prototype.$off=function(t){this.validateEvt(t);var o=[this.lazyStore,this.normalStore],r=!1;return o.forEach(function(o){o.has(t)&&(r=!0,o.delete(t))}),r},r.prototype.$get=function(t){this.validateEvt(t);var o=[],r=this.normalStore;return!!r.has(t)&&(r.get(t).forEach(function(t){var r=t[0];o.push(r)}),o)},e.$done.set=function(t){this.result=t},e.$done.get=function(){return this.result},r.prototype.validateEvt=function(t){if("string"==typeof t)return!0;throw new Error("event name must be string type!")},r.prototype.validate=function(t,o){if(this.validateEvt(t)&&"function"==typeof o)return!0;throw new Error("callback required to be function type!")},r.prototype.run=function(t,o,r){this.$done=Reflect.apply(t,r,o)},r.prototype.takeFromStore=function(t,o){void 0===o&&(o="lazyStore");var r=this[o];if(r.has(t)){var e=r.get(t);return r.delete(t),e}return!1},r.prototype.addToStore=function(t,o){for(var r,e=[],n=arguments.length-2;n-- >0;)e[n]=arguments[n+2];return t.has(o)&&(r=t.get(o)),r.add(e),t.set(o,r),[t,r.size]},r.prototype.addToNormalStore=function(t,o,r,e){var n=this.normalStore,i=this.addToStore(n,t,r,e,o),a=i[0],u=i[1];return this.normalStore=a,u},r.prototype.addToLazyStore=function(t,o,r){void 0===o&&(o=[]),void 0===r&&(r=null);var e=this.lazyStore,n=this.addToStore(e,t,this.toArray(o),r),i=n[0],a=n[1];return this.lazyStore=i,a},r.prototype.toArray=function(t){return Array.isArray(t)?t:[t]},e.normalStore.set=function(o){t.set(this,o)},e.normalStore.get=function(){return t.get(this)},e.lazyStore.set=function(t){o.set(this,t)},e.lazyStore.get=function(){return o.get(this)},Object.defineProperties(r.prototype,e),function(t){function o(o){void 0===o&&(o={}),t.call(this,o)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.on=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return Reflect.apply(this.$on,this,t)},o.prototype.off=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return Reflect.apply(this.$off,this,t)},o.prototype.emit=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return Reflect.apply(this.$trigger,this,t)},o.prototype.once=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return Reflect.apply(this.$once,this,t)},o}(r)});
//# sourceMappingURL=nb-event-service.alias.js.map
